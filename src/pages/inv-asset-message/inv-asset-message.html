<ion-header>
    <ion-navbar color="title">
        <ion-title id="title">资产信息</ion-title>
        <ion-buttons right style="width:20%">
            <button ion-button (click)="submit()" id="btn_submit" color="light">
        提交
      </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>


<ion-content padding #sele_content>
    <div padding id="navbar">
        <ion-segment [(ngModel)]="segment">
            <ion-segment-button id="segment" value="changeMessage">
                盘点信息
            </ion-segment-button>
            <ion-segment-button id="segment" value="basicMassage">
                基本信息
            </ion-segment-button>
        </ion-segment>
    </div>

   
    <div [ngSwitch]="segment">
    <ion-list *ngSwitchCase="'changeMessage'">
        <ion-item>
            <ion-row>
                <ion-col col-6 id="th" class="fixedMessage">
                    资产名称：
                </ion-col>
                <ion-col col-6 id="td" class="fixedMessage">
                    {{fixedAsset.assetName}}
                </ion-col>
            </ion-row>
        </ion-item>
        <ion-item>
            <ion-row>
                <ion-col col-6 id="th" class="fixedMessage">
                    车牌井号：
                </ion-col>
                <ion-col col-6 id="td" class="fixedMessage">
                    {{fixedAsset.licenseplatWellno}}
                </ion-col>
            </ion-row>
        </ion-item>
        <!-- <ion-item (click)="changeManagerOrOrg('MANAGER')"> -->
        <ion-item>
            <h3 id="th_p">保管人:</h3>
            <h3 id="td_p">{{invAsset.manager}}</h3>
        </ion-item>
        <!-- 使用单位默认为保管人的所属单位 -->
        <!-- <ion-item (click)="changeManagerOrOrg('ORGANIZATION')"> -->
        <ion-item>
            <h3 id="th_p">使用单位:</h3>
            <h3 id="td_p">{{invAsset.useOrgName}}</h3>
        </ion-item>
        <ion-item>
            <ion-label id="select">技术状况：</ion-label>
            <ion-select id="td-select" [(ngModel)]="fixedAsset.techStatus" placeholder="选择" interface="popover">
                <ion-option *ngFor="let item of techStates" [value]="item.dictCode">
                    {{item.dictCodeDesc}}
                </ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label id="select">使用状况：</ion-label>
            <ion-select id="td-select" [(ngModel)]="fixedAsset.useState" placeholder="选择" interface="popover">
                <ion-option *ngFor="let item of useStates" [value]="item.dictCode">
                    {{item.dictCodeDesc}}
                </ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label id="select">技术状况：</ion-label>
            <ion-select id="td-select" [(ngModel)]="fixedAsset.securityState" placeholder="选择" interface="popover">
                <ion-option *ngFor="let item of securityStates" [value]="item.dictCode">
                    {{item.dictCodeDesc}}
                </ion-option>
            </ion-select>
        </ion-item>

            <ion-item>

                <ion-label id="select">闲置/停产日期</ion-label>
                <ion-datetime id="td-select" displayFormat="YYYY-MM-DD" max="{{dateNow}}" min="2000-01-01" doneText="确定" cancelText="取消" [(ngModel)]="invAsset.handleDate"></ion-datetime>
            </ion-item>
            <ion-item>
                <ion-row>
                    <ion-col col-6 id="input_content">
                        安装地点：
                    </ion-col>
                    <ion-col col-6 end id="td">
                        <input id="td_input" type="text" [(ngModel)]="invAsset.installLocation" placeholder="安装地点">
                    </ion-col>
                </ion-row>
            </ion-item>

            <ion-item>
                <h3 id="th_img">上传图片({{photos.length}}/2):</h3>
                <div id="imgs_content" *ngFor="let item of photos;let i=index">
                    <img id="imgs" [src]="item" (click)="isDeleteImg(i)" />
                </div>
                <div id="imgs_content" *ngIf="photos.length<3" style="border: 1px dashed #9C9C9C;">
                    <img id="imgs_add" (click)="add()" src="./assets/imgs/add.png" />
                </div>
            </ion-item>
            <ion-item>
                <ion-row>
                    <P id="input_content">修改原因:</P>
                    <textarea id="td_input_reason" rows="5" [(ngModel)]="invAsset.handleReason"></textarea>
                </ion-row>
            </ion-item>

        </ion-list>
        <div [ngSwitch]="segment">
                <ion-list *ngSwitchCase="'basicMassage'">
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                资产名称：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.assetName}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                车牌井号：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.licenseplatWellno}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                规格型号：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.assetType}}
                            </ion-col>
                        </ion-row>
                    
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                出厂日期：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.manufactureDate}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                投产日期：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.productionTime}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                尚可使用月数：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage" *ngIf="fixedAsset.remainingLife!=0">
                                {{fixedAsset.remainingLife}}个月
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage" *ngIf="fixedAsset.remainingLife==0">
                                无
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                计量单位：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.unit}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                单台数量：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.singleQuantity}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                复合数量：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.complexQuantity}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                产权证号:
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.certificateNumber}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                资产原值：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.originalValue}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                    <ion-item>
                        <ion-row>
                            <ion-col col-6 id="th" class="fixedMessage">
                                资产净值：
                            </ion-col>
                            <ion-col col-6 id="td" class="fixedMessage">
                                {{fixedAsset.netWorth}}
                            </ion-col>
                        </ion-row>
                    </ion-item>
        
                </ion-list>
            </div>
        
    </div>

</ion-content>

<ion-menu [content]="sele_content" id="selectPerson" side="right">
    <ion-header>
        <ion-navbar color="title">
            <ion-toolbar>
                <ion-searchbar placeholder="搜索" (ionInput)="filterItems($event)"></ion-searchbar>
            </ion-toolbar>
        </ion-navbar>
    </ion-header>
    <ion-content>
        <ion-list>
            <!-- <ion-scroll id="list_scroll" scrollY="true"> -->
            <div *ngIf="type=='MANAGER'">
                <ion-item *ngFor="let item of items" (click)="close(item)">
                    {{ item.userName}} / {{item.workerNumber}}
                </ion-item>
            </div>
            <div *ngIf="type=='ORGANIZATION'">
                <ion-item *ngFor="let item of items" (click)="close(item)">
                    {{ item.orgName }}
                </ion-item>
            </div>

            <ion-item *ngIf="items!=null&&items.length==0">
                没有搜索到该结果
            </ion-item>
            <!-- </ion-scroll> -->
        </ion-list>

        

    </ion-content>
</ion-menu>