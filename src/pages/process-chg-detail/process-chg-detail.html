<!--
  Generated template for the ProcessChgDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="theme">
    <ion-title class="border-left-white">{{title}}</ion-title>
    <ion-buttons right>
      <button *ngIf="!isEdit"  ion-button (click)="handleApprove()" class="btn-submit" color="light">
        审批
      </button>
      <button *ngIf="isEdit"  ion-button (click)="handleEdit()" class="btn-submit" color="light">
        再次编辑
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content class="bg-content">
  <div *ngIf="eventType=='资产责任人变更'">
    <ion-list>
      <ion-item-divider>
        当前步骤：
      </ion-item-divider>
      <ion-item>
        <ion-label class="item-head">申请人：</ion-label>
        <p class="item-body" item-end>{{assetChgOwnerBill.applicantName}}</p>
      </ion-item>
      <ion-item>
        <ion-label class="item-head">申请日期：</ion-label>
        <p class="item-body" item-end>{{assetChgOwnerBill.applyTime}}</p>
      </ion-item>

      <ion-item>
        <ion-label class="item-head">原责任人：</ion-label>
        <p class="item-body" item-end>{{assetChgOwnerBill.originalOwnerName}}</p>
      </ion-item>

      <ion-item>
        <ion-label class="item-head">现责任人：</ion-label>
        <p class="item-body" item-end>{{assetChgOwnerBill.auditorName}}</p>
      </ion-item>
      <ion-item>
        <ion-label class="item-head">审批状态：</ion-label>
        <p class="item-body" item-end>{{chgState}}</p>
      </ion-item>

      <ion-item>
        <p class="item-head">变更说明：</p>
        <div>
          <textarea class="input-reason" rows="3" [(ngModel)]="assetChgOwnerBill.applyReason" readonly></textarea>
        </div>
      </ion-item>
    </ion-list>
  </div>

  <div *ngIf="eventType=='资产状态变更'">
    <ion-list>
      <ion-item-divider>
        当前步骤：
      </ion-item-divider>
      <ion-item>
        <ion-label class="item-head">申请人：</ion-label>
        <p class="item-body" item-end>{{assetChgPropertyBill.applicantName}}</p>
      </ion-item>
      <ion-item>
        <ion-label class="item-head">申请日期：</ion-label>
        <p class="item-body" item-end>{{assetChgPropertyBill.applyTime}}</p>
      </ion-item>

      <ion-item>
        <ion-label class="item-head">技术状况：</ion-label>
        <p class="item-body" item-end>{{assetChgPropertyBill.techStatusDesc}}</p>
      </ion-item>
      <ion-item>
        <ion-label class="item-head">使用状况：</ion-label>
        <p class="item-body" item-end>{{assetChgPropertyBill.useStateDesc}}</p>
      </ion-item>
      <ion-item>
        <ion-label class="item-head">油气水井安全现状：</ion-label>
        <p class="item-body" item-end>{{assetChgPropertyBill.securityStateDesc}}</p>
      </ion-item>
      <ion-item>
        <ion-label class="item-head">审批状态：</ion-label>
        <p class="item-body" item-end>{{chgState}}</p>
      </ion-item>

      <ion-item>
        <p class="item-head">变更说明：</p>
        <div>
          <textarea class="input-reason" rows="3" [(ngModel)]="assetChgPropertyBill.applyReason" readonly></textarea>
        </div>
      </ion-item>
    </ion-list>
  </div>


    <ion-list>
      <ion-item-divider>
        资产信息列表 ({{assetList.length}})
      </ion-item-divider>
      <ion-item *ngFor="let item of assetList;let i=index">
        <ion-label>
          <h2 *ngIf="item.selfNumber==''||item.selfNumber==undefined">{{item.assetName}} </h2>
          <h2 *ngIf="item.selfNumber!=''&&item.selfNumber!=undefined">{{item.assetName}} [{{item.selfNumber}}] </h2>
          <p style="padding-left:10px;">规格型号：{{item.specModel}}</p>
          <p style="padding-left:10px;">资产编码：{{item.assetCode}}</p>
        </ion-label>
        <button ion-button item-end (click)="handleDetail(item)" color="theme">详情</button>
      </ion-item>
    </ion-list>

</ion-content>
